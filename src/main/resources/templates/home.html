<!DOCTYPE html>
<html lang="pt" data-theme="dark"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>EatEase - Sistema de Pedidos</title>
  <link rel="stylesheet" th:href="@{/css/output.css}" />
</head>
<body>

  <div class="navbar bg-base-100">
    <div class="flex-1">
      <a class="btn btn-ghost normal-case text-xl" href="/">EatEase</a>
    </div>
    <div class="flex-none">
      <ul class="menu menu-horizontal p-0">
        <li><a href="/home">Mesas</a></li>
        <li><a href="/menu">Menu</a></li>
        <li><a href="/orders">Pedidos</a></li>
        <li><a href="/contact">Inventario</a></li>
        <!-- Botão visível apenas para Admin -->
        <li sec:authorize="hasRole('GERENTE')">
          <a href="/register/CreateFuncionario" class="btn btn-secondary">Registar Funcionário</a>
        </li>
        <li sec:authorize="isAuthenticated()">
        <form th:action="@{/logout}" method="post">
          <button type="submit" class="btn btn-error btn-sm">Logout</button>
        </form>
      </li>
      </ul>
      
      
    </div>
  </div>

  <div class="hero bg-base-200 min-h-screen">
      <div class="hero-content text-center flex flex-wrap">

        <div class="indicator m-4">
          <span class="indicator-item status status-danger"></span>
          <div class="bg-base-300 grid h-32 w-32 place-items-center hover:bg-base-100 cursor-pointer transition ease-in-out duration-300 hover:border border-spacing-2 border-base-300 mesa-clickable" data-mesa-name="Mesa 1">MESA 1</div>
        </div>
        <div class="indicator m-4">
          <span class="indicator-item status status-success"></span>
          <div class="bg-base-300 grid h-32 w-32 place-items-center hover:bg-base-100 cursor-pointer transition ease-in-out duration-300 hover:border border-spacing-2 border-base-300 mesa-clickable" data-mesa-name="Mesa 2">MESA 2</div>
        </div>
        <div class="indicator m-4">
          <span class="indicator-item status status-secondary"></span>
          <div class="bg-base-300 grid h-32 w-32 place-items-center hover:bg-base-100 cursor-pointer transition ease-in-out duration-300 hover:border border-spacing-2 border-base-300 mesa-clickable" data-mesa-name="Mesa 3">MESA 3</div>
        </div>
        <div class="indicator m-4">
          <span class="indicator-item status status-success"></span>
          <div class="bg-base-300 grid h-32 w-32 place-items-center hover:bg-base-100 cursor-pointer transition ease-in-out duration-300 hover:border border-spacing-2 border-base-300 mesa-clickable" data-mesa-name="Mesa 4">MESA 4</div>
        </div>
        <div class="indicator m-4">
          <span class="indicator-item status status-secondary"></span>
          <div class="bg-base-300 grid h-32 w-32 place-items-center hover:bg-base-100 cursor-pointer transition ease-in-out duration-300 hover:border border-spacing-2 border-base-300 mesa-clickable" data-mesa-name="Mesa 5">MESA 5</div>
        </div>
        <div class="indicator m-4">
          <span class="indicator-item status status-success"></span>
          <div class="bg-base-300 grid h-32 w-32 place-items-center hover:bg-base-100 cursor-pointer transition ease-in-out duration-300 hover:border border-spacing-2 border-base-300 mesa-clickable" data-mesa-name="Mesa 6">MESA 6</div>
        </div>
        <div class="indicator m-4">
          <span class="indicator-item status status-secondary"></span>
          <div class="bg-base-300 grid h-32 w-32 place-items-center hover:bg-base-100 cursor-pointer transition ease-in-out duration-300 hover:border border-spacing-2 border-base-300 mesa-clickable" data-mesa-name="Mesa 7">MESA 7</div>
        </div>
        <div class="indicator m-4">
          <span class="indicator-item status status-secondary"></span>  
          <div class="bg-base-300 grid h-32 w-32 place-items-center hover:bg-base-100 cursor-pointer transition ease-in-out duration-300 hover:border border-spacing-2 border-base-300 mesa-clickable" data-mesa-name="Mesa 8">MESA 8</div>
        </div>
        <div class="indicator m-4">
          <span class="indicator-item status status-warning"></span>
          <div class="bg-base-300 grid h-32 w-32 place-items-center hover:bg-base-100 cursor-pointer transition ease-in-out duration-300 hover:border border-spacing-2 border-base-300 mesa-clickable" data-mesa-name="Mesa 9">MESA 9</div>
        </div>
        <div class="indicator m-4">
          <span class="indicator-item status status-secondary"></span>
          <div class="bg-base-300 grid h-32 w-32 place-items-center hover:bg-base-100 cursor-pointer transition ease-in-out duration-300 hover:border border-spacing-2 border-base-300 mesa-clickable" data-mesa-name="Mesa 10">MESA 10</div>
        </div>
        <div class="indicator m-4">
          <span class="indicator-item status status-danger"></span>
          <div class="bg-base-300 grid h-32 w-32 place-items-center hover:bg-base-100 cursor-pointer transition ease-in-out duration-300 hover:border border-spacing-2 border-base-300 mesa-clickable" data-mesa-name="Mesa 11">MESA 11</div>
        </div>
        <div class="indicator m-4">
          <span class="indicator-item status status-success"></span>
          <div class="bg-base-300 grid h-32 w-32 place-items-center hover:bg-base-100 cursor-pointer transition ease-in-out duration-300 hover:border border-spacing-2 border-base-300 mesa-clickable" data-mesa-name="Mesa 12">MESA 12</div>
        </div>
        <div class="indicator m-4">
          <span class="indicator-item status status-secondary"></span>
          <div class="bg-base-300 grid h-32 w-32 place-items-center hover:bg-base-100 cursor-pointer transition ease-in-out duration-300 hover:border border-spacing-2 border-base-300 mesa-clickable" data-mesa-name="Mesa 13">MESA 13</div>
        </div>
        <div class="indicator m-4">
          <span class="indicator-item status status-secondary"></span>
          <div class="bg-base-300 grid h-32 w-32 place-items-center hover:bg-base-100 cursor-pointer transition ease-in-out duration-300 hover:border border-spacing-2 border-base-300 mesa-clickable" data-mesa-name="Mesa 14">MESA 14</div>
        </div>
        <div class="indicator m-4">
          <span class="indicator-item status status-warning"></span>
          <div class="bg-base-300 grid h-32 w-32 place-items-center hover:bg-base-100 cursor-pointer transition ease-in-out duration-300 hover:border border-spacing-2 border-base-300 mesa-clickable" data-mesa-name="Mesa 15">MESA 15</div>
        </div>

    <!-- <div sec:authorize="isAuthenticated()">
        <p class="text-sm">
          ID: <span th:text="${#authentication?.principal?.id}"></span><br/>
          Role: <span th:text="${#authentication?.principal?.authorities}"></span><br/>
          Nome: <span th:text="${#authentication?.principal?.nome}"></span><br/>
          Username: <span th:text="${#authentication?.principal?.username}"></span><br/>
          Cargo: <span th:text="${#authentication?.principal?.cargo}"></span><br/>
          Email: <span th:text="${#authentication?.principal?.email}"></span><br/>
          Telefone: <span th:text="${#authentication?.principal?.telefone}"></span>
        </p>
      </div> -->
</div>
  </div>

<input type="checkbox" id="mesa-modal" class="modal-toggle" />
<div class="modal">
  <div class="modal-box relative max-w-3xl">

    <label for="mesa-modal" class="btn btn-sm btn-circle absolute right-2 top-2">✕</label>
    
    <div class="flex items-center justify-between mb-4">
      <h3 class="text-lg font-bold" id="mesa-title">Detalhes da Mesa</h3>
      <div class="space-x-2">
        <span id="mesa-status" class="badge badge-success">Livre</span>
        <span id="mesa-funcionario" class="badge badge-info">João Silva</span>
      </div>
    </div>
    

    <div class="collapse collapse-arrow border border-base-300 bg-base-100 rounded-box mb-4">
      <input type="checkbox" class="peer" />
      <div class="collapse-title text-md font-medium">
        Pedidos <span class="badge badge-secondary ml-2">5 Itens</span>
      </div>
      <div class="collapse-content p-0">
        <ul class="divide-y divide-base-300">
          <li class="p-3 flex justify-between items-center cursor-default">
            <span>Bife à Portuguesa</span>
            <span class="badge badge-primary">45,00€</span>
          </li>
          <li class="p-3 flex justify-between items-center cursor-default">
            <span>Bacalhau à Brás</span>
            <span class="badge badge-primary">45,00€</span>
          </li>
          <li class="p-3 flex justify-between items-center cursor-default">
            <span>Pudim de Leite</span>
            <span class="badge badge-primary">3,00€</span>
          </li>
          <li class="p-3 flex justify-between items-center cursor-default">
            <span>Água Mineral 1.5L</span>
            <span class="badge badge-primary">1,20€</span>
          </li>
          <li class="p-3 flex justify-between items-center cursor-default">
            <span>Coca-Cola Zero</span>
            <span class="badge badge-primary">1,50€</span>
          </li>
        </ul>
      </div>
    </div>
    
    
    <div class="mb-6">
      <h4 class="font-bold text-lg mb-2">Adicionar Prato</h4>
      

      <div class="collapse collapse-arrow border border-base-300 bg-base-100 rounded-box mb-2">
        <input type="checkbox" class="peer" />
        <div class="collapse-title text-md font-medium">
          Carne
        </div>
        <div class="collapse-content p-0">
          <ul class="divide-y divide-base-300">
            <li class="p-3 flex justify-between items-center">
              <div>
                <p class="font-bold">Bife à Portuguesa</p>
                <p class="text-sm">Ingredientes: Bife, alho, cebola, ervas</p>
                <p class="text-sm">Preço: 45,00€</p>
              </div>
              <button class="btn btn-sm btn-primary">Adicionar</button>
            </li>

          </ul>
        </div>
      </div>
      

      <div class="collapse collapse-arrow border border-base-300 bg-base-100 rounded-box mb-2">
        <input type="checkbox" class="peer" />
        <div class="collapse-title text-md font-medium">
          Peixe
        </div>
        <div class="collapse-content p-0">
          <ul class="divide-y divide-base-300">
            <li class="p-3 flex justify-between items-center">
              <div>
                <p class="font-bold">Salmão Grelhado</p>
                <p class="text-sm">Ingredientes: Salmão, limão, ervas</p>
                <p class="text-sm">Preço: 21,00€</p>
              </div>
              <button class="btn btn-sm btn-primary">Adicionar</button>
            </li>

          </ul>
        </div>
      </div>
      

      <div class="collapse collapse-arrow border border-base-300 bg-base-100 rounded-box mb-2">
        <input type="checkbox" class="peer" />
        <div class="collapse-title text-md font-medium">
          Bebidas
        </div>
        <div class="collapse-content p-0">
          <ul class="divide-y divide-base-300">
            <li class="p-3 flex justify-between items-center">
              <div>
                <p class="font-bold">Coca-Cola Zero</p>
                <p class="text-sm">Preço: 1,50€</p>
              </div>
              <button class="btn btn-sm btn-primary">Adicionar</button>
            </li>
            <li class="p-3 flex justify-between items-center">
              <div>
                <p class="font-bold">Sumo de Laranja</p>
                <p class="text-sm">Ingredientes: Laranja, água, açúcar</p>
                <p class="text-sm">Preço: 2,00€</p>
              </div>
              <button class="btn btn-sm btn-primary">Adicionar</button>
            </li>

          </ul>
        </div>
      </div>
      
      <div class="collapse collapse-arrow border border-base-300 bg-base-100 rounded-box">
        <input type="checkbox" class="peer" />
        <div class="collapse-title text-md font-medium">
          Sobremesas
        </div>
        <div class="collapse-content p-0">
          <ul class="divide-y divide-base-300">
            <li class="p-3 flex justify-between items-center">
              <div>
                <p class="font-bold">Pudim de Leite</p>
                <p class="text-sm">Ingredientes: Leite condensado, ovos, caramelo</p>
                <p class="text-sm">Preço: 6,00€</p>
              </div>
              <button class="btn btn-sm btn-primary">Adicionar</button>
            </li>

          </ul>
        </div>
      </div>

    <div class="mt-6">
      <p class="font-semibold">Preço Total:</p>
      <p id="mesa-total" class="text-xl font-bold">95,70€</p>
    </div>
    </div>
    
    <div class="modal-action">
      <label for="mesa-modal" class="btn">Fechar</label>
    </div>
  </div>
</div>



<script>
  const mesas = document.querySelectorAll('.mesa-clickable');
  mesas.forEach(mesa => {
    mesa.addEventListener('click', () => {
      document.getElementById('mesa-title').textContent = mesa.getAttribute('data-mesa-name');
      document.getElementById('mesa-modal').checked = true; // Abre o modal
    });
  });
</script>

</body>
</html>
